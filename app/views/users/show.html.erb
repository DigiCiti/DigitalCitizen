<div class="usa-grid usa-width-one-half" id="profile-page-main-cont">
  <div id="profile-info-cont">
    <span id="profile-username-header"><%= @user.username %></span>
    <div id="profile-badge-display">
      <%= image_tag 'law.png', class: "badge-icon" %>
      <%= image_tag 'learning.png', class: "badge-icon" %>
      <%= image_tag 'lecture-1.png', class: "badge-icon" %>
      <%= image_tag 'writing.png', class: "badge-icon" %>
      <%= image_tag 'lecture.png', class: "badge-icon" %>
      <%= image_tag 'notebook.png', class: "badge-icon" %>
    </div>
    <br>
    <%= image_tag @user.avatar.url(:medium), id: "profile-photo-cont" %>
    <div id="profile-basic-info">
      <%= @user.city %><br>
      <%= @user.state %><br>
      <%= @user.country %><br>
      <%= @user.ideology %><br>
      <%= @user.party %><br><br>
      <% if signed_in? && @user.id == current_user.id %>
      <%= link_to "Edit Profile", edit_user_path(current_user.id) %>
      <% end %>
    </div>
    <% if signed_in? && @user.id != current_user.id && !friend?(@user.id) %>
    <%= button_to "Add Contact", friendships_path(add_id: @user.id), method: :post %>
    <p class="notice"><%= notice %></p>
    <p class="alert"><%= alert %></p>
    <% end %>
  </div>

    <% if signed_in? && @user.id == current_user.id %>
      <%= link_to 'New Post', new_entry_path, remote: true, id: "new-post-btn", class: "usa-button" %>
    <% end %>
    <div id="profile-post-btn-cont">
      <!-- will display form here -->
    </div>

  <div id="profile-posts-cont">
    <% @posts.each do |post| %>
      <div class="profile-post-cont">
        <%= image_tag @user.avatar.url(:thumb), class: "profile-post-avatar" %>
        <!-- consider adding user name with poster photo but for now seems redundant -->
        <% if signed_in? && @user.id == current_user.id %>
        <div class="profile-post-edit-cont">
          <%= link_to "Edit", edit_entry_path(post.id, post: post) %> |
          <!-- confirm isn't currently working but this should be handled with ajax -->
          <%= link_to "Delete", post, method: :delete, confirm: "Are you sure you want to delete this post?" %>
        </div>
        <% end %>
        <div class="profile-post-content">
          <p><%= post.title %></p>
          <hr>
          <p><%= post.body %></p>
          <p><%= post.created_at.strftime('%l:%M%P - %m/%d/%y') %></p>
        </div>
        <% if signed_in? %>
          <%= button_to "Comment", new_comment_path(post.id), method: :get, class: "usa-button-primary-alt" %>
        <% end %>
        <% post.comments.reverse.each do |comment| %>
          <div class="usa-grid profile-post-comment-cont">
            <% commenter = User.find(comment.user_id) %>
            <%= link_to user_path(commenter.id) do %>
               <%= image_tag commenter.avatar.url(:thumb), class: "comment-user-avatar" %>
            <% end %>
            <div class="comment-body-cont">
              <%= link_to commenter.username, "/users/#{commenter.id}" %><br>
              <hr>
              <%= comment.body %><br><br>
              <%= comment.created_at.strftime('%l:%M%P - %m/%d/%y') %>
              <% if signed_in? && comment.user.id == current_user.id %>
              | <%= link_to "Edit", edit_comment_path(comment.id, comment: comment) %> |
                <!-- confirm isn't currently working but this shoule handled with ajax -->
                <%= link_to "Delete", comment_path(id: comment.id, entry_user: post.user_id), method: :delete, confirm: "Are you sure you want to delete this comment?" %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
